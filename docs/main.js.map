{"version":3,"sources":["./src/app/stream-item-related-songs/stream-item-related-songs.component.html","./src/app/stream-item-related-songs/stream-item-related-songs.component.ts","./src/app/stream-item-secondary-info/stream-item-secondary-info.component.html","./src/app/stream-item-secondary-info/stream-item-secondary-info.component.ts","./src/app/page-switch/pages/playlist/playlist.component.ts","./src/app/page-switch/pages/playlist/playlist.component.html","./src/app/annotation.service.ts","./src/app/topbar/topbar.component.ts","./src/app/topbar/topbar.component.html","./src/app/stream-item-social-buttons/stream-item-social-buttons.component.ts","./src/app/stream-item-social-buttons/stream-item-social-buttons.component.html","./src/app/page-switch/AppPage.ts","./src/app/stream-item-header/stream-item-header.component.html","./src/app/stream-item-header/stream-item-header.component.ts","./src/environments/environment.ts","./src/app/stream-item-details/stream-item-details.component.html","./src/app/stream-item-details/stream-item-details.component.ts","./src/app/stream-filter/stream-filter.component.html","./src/app/stream-filter/stream-filter.component.ts","./src/app/stream-item-main-info/stream-item-main-info.component.html","./src/app/stream-item-main-info/stream-item-main-info.component.ts","./src/app/song.service.ts","./src/app/page-switch/pages/home/home.component.ts","./src/app/page-switch/pages/home/home.component.html","./src/app/queue.service.ts","./src/app/message.service.ts","./src/app/homepage/homepage.component.ts","./src/app/homepage/homepage.component.html","./src/app/video/video.module.ts","./src/app/video/playing-song-details/playing-song-details.component.html","./src/app/video/playing-song-details/playing-song-details.component.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/stream.service.ts","./src/app/page-switch.service.ts","./src/app/app.module.ts","./src/app/page-switch/page-switch.component.ts","./src/app/page-switch/page-switch.component.html","./src/app/navbar-item/navbar-item.component.ts","./src/app/navbar-item/navbar-item.component.html","./src/app/page-switch/pages/filter/filter.component.ts","./src/app/page-switch/pages/filter/filter.component.html","./src/app/message/message.component.html","./src/app/message/message.component.ts","./src/app/stream-item-secondary-info/annotation-type-specific-info/lyrics/lyrics.component.ts","./src/app/stream-item-secondary-info/annotation-type-specific-info/lyrics/lyrics.component.html","./src/app/annotation-graphics.service.ts","./src/app/navbar/navbar.component.ts","./src/app/navbar/navbar.component.html","./src/app/stream-item/stream-item.component.html","./src/app/stream-item/stream-item.component.ts","./src/app/stream-item-secondary-info/annotation-type-specific-info/location/location.component.ts","./src/app/stream-item-secondary-info/annotation-type-specific-info/location/location.component.html","./src/app/video/video.component.ts","./src/app/video/video.component.html","./src/app/stream-item-secondary-info/annotation-type-specific-info/harmonic/harmonic.component.ts","./src/app/stream-item-secondary-info/annotation-type-specific-info/harmonic/harmonic.component.html","./src/app/stream-item-related-song-item/stream-item-related-song-item.component.html","./src/app/stream-item-related-song-item/stream-item-related-song-item.component.ts","./src/app/queue/queue.component.html","./src/app/queue/queue.component.ts","./src/app/audio-player/audio-player.component.ts","./src/app/audio-player/audio-player.component.html","./src/app/stream/stream.component.html","./src/app/stream/stream.component.ts","./src/app/stream-filter.service.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["<div *ngIf=\"relationships && relationships.length > 0\">\n    <strong>Related songs</strong>\n    <ul class=\"list-unstyled\">\n        <app-stream-item-related-song-item *ngFor=\"let song of relationships\" [relationship]=\"song\">\n        </app-stream-item-related-song-item>\n    </ul>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Relationship } from '../relationship';\n\n@Component({\n  selector: 'app-stream-item-related-songs',\n  templateUrl: './stream-item-related-songs.component.html',\n  styleUrls: ['./stream-item-related-songs.component.css']\n})\nexport class StreamItemRelatedSongsComponent implements OnInit {\n\n  @Input() relationships?: Relationship[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- <p>{{annotation.description}}</p> -->\n<div *ngIf=\"annotation\" [ngSwitch]=\"annotation.type\">\n    <app-lyrics *ngSwitchCase=\"'lyrics'\" [metadata]=\"annotation.metadata\"></app-lyrics>\n    <app-location *ngSwitchCase=\"'spatial'\" [metadata]=\"annotation.metadata\" [description]=\"annotation.description\"></app-location>\n    <app-harmonic *ngSwitchCase=\"'harmonic'\" [metadata]=\"annotation.metadata\"></app-harmonic>\n    <div *ngSwitchDefault>No specific template for {{annotation.type}}. Create it!</div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Annotation } from '../annotation';\n\n@Component({\n  selector: 'app-stream-item-secondary-info',\n  templateUrl: './stream-item-secondary-info.component.html',\n  styleUrls: ['./stream-item-secondary-info.component.css']\n})\nexport class StreamItemSecondaryInfoComponent implements OnInit {\n\n  @Input() annotation?: Annotation;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { QueueService } from 'src/app/queue.service';\nimport { QueueItem } from '../../../queueitem';\nimport {Subscription} from 'rxjs';\n\n@Component({\n  selector: 'app-playlist',\n  templateUrl: './playlist.component.html',\n  styleUrls: ['./playlist.component.css']\n})\nexport class PlaylistComponent implements OnInit {\n\n  constructor(private queueService: QueueService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}\n","<div class=\"playlist-title\">Current Playlist</div>\n<app-queue></app-queue>\n","import { Injectable } from '@angular/core';\nimport { Annotation } from './annotation';\nimport { Song } from './song';\nimport {HarmonicsMetadata, LocationMetadata, LyricsMetadata} from './annotation-metadata';\nimport ApplicationData from '../assets/data/data_v8.json';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnnotationService {\n  annotations: Annotation[] = [];\n  annotationsInitialised = false;\n  randomTimestampWindow = 15;\n\n  constructor() {\n  }\n\n  getAnnotations(): Annotation[] {\n    if (!this.annotationsInitialised) {\n      this.initAnnotations();\n    }\n    return this.annotations;\n  }\n\n  getSongAnnotations(songID: string): Annotation[] {\n    if (!this.annotationsInitialised) {\n      this.initAnnotations();\n    }\n    const tempAnnotationArray: Annotation[] = [];\n    for (const item of this.annotations) {\n      if (item.songID === songID){\n        tempAnnotationArray.push(item);\n      }\n    }\n    return tempAnnotationArray;\n  }\n\n  getRelatedSongs(sourceSongID: string): string[] {\n    const relatedSongs: string[] = [];\n    let songAnnotations: Annotation[];\n    songAnnotations = this.getSongAnnotations(sourceSongID);\n    for (const annotation of songAnnotations) {\n      for (const relation of annotation.relationships) {\n        const targetSongID = this.getAnnotationFromID(relation.annotationID).songID;\n        relatedSongs.push(targetSongID);\n      }\n    }\n    return relatedSongs;\n  }\n\n  initAnnotations(): void {\n    this.annotations = [];\n    let annotation: Annotation;\n    for (annotation of ApplicationData.annotations) {\n      // assign a timestamp if necessary\n      if (annotation.timestamp === 0) {\n        annotation.timestamp = this.getRandomTimestamp();\n      }\n      // build annotation description\n      annotation = this.generateAnnotationDescriptions(annotation);\n\n      // push to main annotations list\n      this.annotations.push(annotation);\n    }\n    this.annotationsInitialised = true;\n  }\n\n  getAnnotationFromID(annotationID: string): Annotation {\n    if (!this.annotationsInitialised) {\n      this.initAnnotations();\n    }\n    for (const item of this.annotations) {\n      if (item.id === annotationID) {\n        return item;\n      }\n    }\n    return null;\n  }\n\n  getRandomTimestamp(): number {\n    return Math.floor(Math.random() * (this.randomTimestampWindow + 1));\n  }\n\n  generateAnnotationDescriptions(annotation: Annotation): Annotation {\n    let description: string = '';\n    let shortDescription: string = '';\n\n    switch (annotation.type) {\n      case 'spatial':\n        const spatialMetadata: LocationMetadata = annotation.metadata;\n        shortDescription = this.capitalizeFirstLetter(spatialMetadata.sessionTypeLabel) + ' ' + spatialMetadata.placeLabel;\n        description = spatialMetadata.sessionTypeLabel +\n          ' ' + spatialMetadata.placeLabel +\n          ' - ' + spatialMetadata.placeFullAddress;\n        break;\n      case 'harmonic':\n        const harmonicMetadata: HarmonicsMetadata = annotation.metadata;\n        shortDescription = 'Harmonic';\n        description = '';\n        break;\n      case 'lyrics':\n        const lyricsMetadata: LyricsMetadata = annotation.metadata;\n        shortDescription = 'Lyrics';\n        description = '';\n        break;\n      default:\n        shortDescription = 'Generic annotation';\n        description = '';\n      // code block\n    }\n    annotation.description = description;\n    annotation.shortDescription = shortDescription;\n    return annotation;\n  }\n\n  capitalizeFirstLetter(input: string): string {\n    return input.charAt(0).toUpperCase() + input.slice(1);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-topbar',\n  templateUrl: './topbar.component.html',\n  styleUrls: ['./topbar.component.css']\n})\nexport class TopbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar navbar-expand-md navbar-dark fixed-top navbar-background\">\n    <div class=\"container-fluid\">\n      <!-- <a class=\"navbar-brand\" href=\"#\">{{title}}</a> -->\n        <ul class=\"list-unstyled container-fluid d-flex flex-row justify-content-between navbar-item-list\">\n            <li class=\"nav-item\">\n                <a aria-current=\"page\" \n                    class=\"nav-link navbar-item-text d-flex flex-column topbar-item-text\"\n                    routerLink=\"/user\">\n                    <div class=\"material-icons size navbar-item-icon\">account_circle</div></a>\n            </li>\n            <li class=\"nav-item\">\n                <a aria-current=\"page\" \n                    class=\"nav-link navbar-item-text d-flex flex-column topbar-item-text\"\n                    routerLink=\"/polifonia\">\n                    <img class=\"polifonia-logo size\" src=\"assets/img/polifonia_logo.jpg\">\n                </a>\n            </li>\n        </ul>\n    </div>\n  </nav>","import { Component, Input, OnInit } from '@angular/core';\nimport { Annotation } from '../annotation';\n\n@Component({\n  selector: 'app-stream-item-social-buttons',\n  templateUrl: './stream-item-social-buttons.component.html',\n  styleUrls: ['./stream-item-social-buttons.component.css']\n})\nexport class StreamItemSocialButtonsComponent implements OnInit {\n\n  @Input() annotation?: Annotation;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"social-button-container\">\n    <div class=\"material-icons size social-button-icon\">favorite</div>\n    <div class=\"material-icons size social-button-icon\">share</div>\n</div>","export enum AppPage {\n    Home = \"home\",\n    Playlist = \"playlist\",\n    Filter = \"filter\" \n  }","<h2 *ngIf=\"annotation\" class=\"accordion-header\" id=\"{{'flush-heading-' + annotation.id}}\">\n    <button\n      class=\"accordion-button accordion-flush collapsed app-background app-text-color annotation-button\"\n      type=\"button\"\n      [attr.data-bs-toggle]=\"'collapse'\"\n      [attr.data-bs-target]=\"'#flush-collapse-' + annotation.simpleID\"\n      [attr.aria-expanded]=\"'false'\"\n      [attr.aria-controls]=\"'flush-collapse-' + annotation.simpleID\"\n      >\n      <div class=\"material-icons size annotation-icon color-brightness\" [style.color]=\"annotationGraphics.color\">{{annotationGraphics.iconName}}</div>\n      <div [style.color]=\"annotationGraphics.color\" class=\"annotation-title color-brightness\">\n        <!-- {{annotationGraphics.title}} -->\n        {{annotation.shortDescription}}\n      </div>\n    </button>\n</h2>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Annotation } from '../annotation';\nimport { AnnotationGraphics } from '../annotation-graphics';\nimport { AnnotationGraphicsService } from '../annotation-graphics.service';\n\n@Component({\n  selector: 'app-stream-item-header',\n  templateUrl: './stream-item-header.component.html',\n  styleUrls: ['./stream-item-header.component.css']\n})\nexport class StreamItemHeaderComponent implements OnInit {\n\n  @Input() annotation?: Annotation;\n  annotationGraphics?: AnnotationGraphics;\n\n  constructor(private annotationGraphicsService: AnnotationGraphicsService) {\n  }\n\n  ngOnInit(): void {\n    if (this.annotation) {\n      this.annotationGraphics = this.annotationGraphicsService.getAnnotationGraphics(this.annotation.type);\n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","<div *ngIf=\"annotation\" class=\"main-info-padding\">\n  <app-stream-item-secondary-info [annotation]=\"annotation\"></app-stream-item-secondary-info>\n  <app-stream-item-related-songs [relationships]=\"annotation.relationships\"></app-stream-item-related-songs>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Annotation } from '../annotation';\n\n@Component({\n  selector: 'app-stream-item-details',\n  templateUrl: './stream-item-details.component.html',\n  styleUrls: ['./stream-item-details.component.css']\n})\nexport class StreamItemDetailsComponent implements OnInit {\n\n\n  @Input() annotation?: Annotation;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<div *ngFor=\"let item of filters | keyvalue\" class=\"form-check form-switch filter-item\">\n  <input\n    class=\"form-check-input\"\n    type=\"checkbox\"\n    id=\"{{'filterSwitch-' + item.key}}\"\n    [checked]=\"item.value.enabled\"\n    (change)=\"onSwitchToggle(item.value.type, $event)\"\n  >\n  <div class=\"material-icons size annotation-icon color-brightness\" [style.color]=\"getFilterGraphics(item.value).color\">{{getFilterGraphics(item.value).iconName}}</div>\n  <label class=\"form-check-label\" for=\"{{'filterSwitch-' + item.key}}\" [style.color]=\"getFilterGraphics(item.value).color\">{{item.value.label}}</label>\n</div>\n\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport {StreamService} from '../stream.service';\nimport {StreamFilterService} from '../stream-filter.service';\nimport {Subscription} from 'rxjs';\nimport {StreamFilterItem} from '../stream-filter-item';\nimport { AnnotationGraphicsService } from '../annotation-graphics.service';\n\n@Component({\n  selector: 'app-stream-filter',\n  templateUrl: './stream-filter.component.html',\n  styleUrls: ['./stream-filter.component.css']\n})\nexport class StreamFilterComponent implements OnInit {\n  streamFilterSubscription: Subscription;\n  filters: {};\n\n  constructor(\n    private streamService: StreamService,\n    private streamFilterService: StreamFilterService,\n    private graphicsService: AnnotationGraphicsService\n  ) { }\n\n  ngOnInit(): void {\n    this.streamFilterService.initFilters();\n    this.streamFilterSubscription = this.streamFilterService.currentFilters.subscribe( filters => this.filters = filters);\n  }\n\n  getFilterGraphics(filter) {\n    return  this.graphicsService.getAnnotationGraphics(filter.type);\n  }\n\n  onSwitchToggle(type: string, event: any): void {\n    this.streamFilterService.setFilterStatus(type, event.currentTarget.checked);\n  }\n\n}\n","<div *ngIf=\"annotation\" class=\"main-info-padding\">\n <div>\n  <!-- {{annotation.description}} -->\n </div>\n</div>\n\n\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Annotation } from '../annotation';\n\n@Component({\n  selector: 'app-stream-item-main-info',\n  templateUrl: './stream-item-main-info.component.html',\n  styleUrls: ['./stream-item-main-info.component.css']\n})\nexport class StreamItemMainInfoComponent implements OnInit {\n\n  @Input() annotation?: Annotation;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Song } from './song';\n// @ts-ignore\n\nimport ApplicationData from '../assets/data/data_v8.json';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SongService {\n  songs: Song[];\n  songsInitialised = false;\n\n  constructor() { }\n\n  getSongs(): Song[] {\n    if (!this.songsInitialised) {\n      this.initSongs();\n    }\n    return this.songs;\n  }\n\n  getSongDetails(songID: string): Song {\n    if (!this.songsInitialised) {\n      this.songs = this.getSongs();\n    }\n    for (const item of this.songs) {\n      if (item.id === songID) {\n        return item;\n      }\n    }\n\n    return null;\n  }\n\n  initSongs(): void {\n    this.songs = [];\n    for (const song of ApplicationData.songs) {\n      this.songs.push(song);\n    }\n    this.songsInitialised = true;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-stream></app-stream>\n","/* tslint:disable:prefer-const */\nimport { Injectable } from '@angular/core';\nimport {QueueItem} from './queueitem';\nimport {Song} from './song';\nimport {BehaviorSubject} from 'rxjs';\nimport {Annotation} from './annotation';\nimport {SongService} from './song.service';\nimport {AnnotationService} from './annotation.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QueueService {\n  // queue and history managed here\n  private queueSource = new BehaviorSubject([]);\n  currentQueue = this.queueSource.asObservable();\n  history: Song[] = [];\n  private currentSongSource = new BehaviorSubject( null);\n  currentSong = this.currentSongSource.asObservable();\n  queueIndex = 0;\n  queueInitialised = false;\n\n  constructor(\n    private songService: SongService,\n    private annotationService: AnnotationService\n  ) { }\n\n  addToQueue(song: Song, addToHead: boolean = false): void {\n    let newQueue = this.queueSource.getValue();\n    if (addToHead) {\n      newQueue.unshift(song);\n    }\n    else {\n      newQueue.push(song);\n    }\n    this.queueSource.next(newQueue);\n  }\n\n  addToQueueByID(songID: string, addToHead: boolean = false): void {\n    const song = this.songService.getSongDetails(songID);\n    this.addToQueue(song, addToHead);\n  }\n\n  removeFromQueue(index: number): void {\n    // Remove item from the play queue at this index\n    let newQueue = this.queueSource.getValue();\n    newQueue.splice(index, 1);\n    this.queueSource.next(newQueue);\n  }\n\n  forwards(): void {\n    // Move forwards to the next song in the queue\n    // if there's a current song playing, move it into the history.\n    // if no more songs in the queue, add a random one from the list of related songs.\n    if (this.currentSongSource.getValue() != null) {\n      this.history.unshift(this.currentSongSource.getValue());\n    }\n\n    if (this.queueSource.getValue().length === 0) {\n      // We have an empty queue, get all related songs and add a random one to the queue\n      const relatedSongs = this.annotationService.getRelatedSongs(this.currentSongSource.getValue().id);\n      this.addToQueueByID(relatedSongs[Math.floor(Math.random() * relatedSongs.length)]);\n    }\n\n    let newCurrentSong = this.queueSource.getValue()[0];\n    this.currentSongSource.next(newCurrentSong);\n    this.removeFromQueue(0);\n  }\n\n  backwards(): void {\n    // Move backwards to the previous song in the queue\n\n    if (this.history.length === 0) {\n      return;\n    }\n\n    // Before we move back, put the current playing song on the head of the queue\n    this.addToQueue(this.currentSongSource.getValue(), true);\n    let newCurrentSong = this.history[0];\n    this.currentSongSource.next(newCurrentSong);\n    this.history.shift();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {Message} from './message';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n  private messageSource = new BehaviorSubject(null);\n  currentMessage = this.messageSource.asObservable();\n  defaultTimeOut = 2;\n\n  constructor() { }\n\n  initMessage(): void {\n    const message: Message = {\n      messageText: '',\n      visible: false,\n      type: 'info'\n    };\n    this.messageSource.next(message);\n  }\n\n  showMessage(text: string, type: Message['type'] = 'info', time: number = this.defaultTimeOut): void {\n    // Display message at the top of the page. Optional timeout in seconds. Currently defaults to 2 seconds.\n    let message: Message = {\n      messageText: text,\n      type,\n      visible: true\n    };\n    this.messageSource.next(message);\n    setTimeout((): void => {\n      message.visible = false;\n      this.messageSource.next(message);\n    }, (time * 1000));\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})\nexport class HomepageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"pt-5\">\n  <app-video></app-video>\n  <app-page-switch></app-page-switch>\n  <app-message></app-message>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\nimport { VideoComponent } from './video.component';\nimport { PlayingSongDetailsComponent } from './playing-song-details/playing-song-details.component';\n\n\n\n@NgModule({\n  declarations: [\n    VideoComponent,\n    PlayingSongDetailsComponent\n  ],\n  imports: [\n    CommonModule,\n    YouTubePlayerModule\n  ],\n  exports: [\n    VideoComponent\n  ]\n})\nexport class VideoModule { }\n","<div *ngIf=\"playingSong\">\n  <div class=\"song-name\">{{playingSong.name}}\n  </div>\n  <div class=\"song-artist\">{{playingSong.artist}}\n  </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Song } from 'src/app/song';\n\n@Component({\n  selector: 'app-playing-song-details',\n  templateUrl: './playing-song-details.component.html',\n  styleUrls: ['./playing-song-details.component.css']\n})\nexport class PlayingSongDetailsComponent implements OnInit {\n\n  @Input() playingSong?: Song;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    console.log('Playing song:', this.playingSong);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport {Song} from './song';\nimport {Annotation} from './annotation';\nimport {QueueItem} from './queueitem';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n  title = 'SONAR Demo';\n\n  ngOnInit(): void {\n  }\n\n\n}\n\n\n","<app-topbar></app-topbar>\n<app-navbar></app-navbar>\n<main class=\"container app-background app-text-color\">\n  <router-outlet></router-outlet>\n</main>\n","import { Injectable } from '@angular/core';\nimport {Song} from './song';\nimport {BehaviorSubject} from 'rxjs';\nimport {Annotation} from './annotation';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StreamService {\n  currentSong: Song;\n  // currentPlayTime = 0;\n  private streamSource = new BehaviorSubject([]);\n  currentStream = this.streamSource.asObservable();\n  private timeSource = new BehaviorSubject(0);\n  currentTime = this.timeSource.asObservable();\n\n  constructor() { }\n\n  setPlayTime(timestamp: number): void {\n    // this.currentPlayTime = timestamp;\n    this.timeSource.next(timestamp);\n  }\n\n  setSong(song: Song): void {\n    this.currentSong = song;\n  }\n\n  addToStream(item: Annotation): void {\n    let newStreamArray = this.streamSource.getValue();\n    newStreamArray.unshift(item);\n    this.streamSource.next(newStreamArray);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject,  } from 'rxjs';\nimport { AppPage } from './page-switch/AppPage';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PageSwitchService {\n\n  currentPage: AppPage;\n\n  appPageChange: BehaviorSubject<AppPage> = new BehaviorSubject<AppPage>(AppPage.Home);\n\n  constructor() {\n      this.appPageChange.subscribe((value) => {\n        this.currentPage = value\n      })\n  }\n\n  changePage(newPage: AppPage) {\n    this.appPageChange.next(newPage)\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { AudioPlayerComponent } from './audio-player/audio-player.component';\nimport { HomepageComponent } from './homepage/homepage.component';\nimport { StreamComponent } from './stream/stream.component';\nimport { QueueComponent } from './queue/queue.component';\nimport { StreamItemComponent } from './stream-item/stream-item.component';\nimport { VideoModule } from './video/video.module';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { NavbarItemComponent } from './navbar-item/navbar-item.component';\nimport { TopbarComponent } from './topbar/topbar.component';\nimport { StreamItemHeaderComponent } from './stream-item-header/stream-item-header.component';\nimport { StreamItemMainInfoComponent } from './stream-item-main-info/stream-item-main-info.component';\nimport { StreamItemDetailsComponent } from './stream-item-details/stream-item-details.component';\nimport { StreamItemSocialButtonsComponent } from './stream-item-social-buttons/stream-item-social-buttons.component';\nimport { StreamItemRelatedSongsComponent } from './stream-item-related-songs/stream-item-related-songs.component';\nimport { StreamItemRelatedSongItemComponent } from './stream-item-related-song-item/stream-item-related-song-item.component';\nimport { StreamItemSecondaryInfoComponent } from './stream-item-secondary-info/stream-item-secondary-info.component';\nimport { LyricsComponent } from './stream-item-secondary-info/annotation-type-specific-info/lyrics/lyrics.component';\nimport { LocationComponent } from './stream-item-secondary-info/annotation-type-specific-info/location/location.component';\nimport { PageSwitchComponent } from './page-switch/page-switch.component';\nimport { HomeComponent } from './page-switch/pages/home/home.component';\nimport { PlaylistComponent } from './page-switch/pages/playlist/playlist.component';\nimport { FilterComponent } from './page-switch/pages/filter/filter.component';\nimport { MessageComponent } from './message/message.component';\nimport { StreamFilterComponent } from './stream-filter/stream-filter.component';\nimport { HarmonicComponent } from './stream-item-secondary-info/annotation-type-specific-info/harmonic/harmonic.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AudioPlayerComponent,\n    HomepageComponent,\n    StreamComponent,\n    QueueComponent,\n    StreamItemComponent,\n    NavbarComponent,\n    NavbarItemComponent,\n    TopbarComponent,\n    StreamItemHeaderComponent,\n    StreamItemMainInfoComponent,\n    StreamItemDetailsComponent,\n    StreamItemSocialButtonsComponent,\n    StreamItemRelatedSongsComponent,\n    StreamItemRelatedSongItemComponent,\n    StreamItemSecondaryInfoComponent,\n    LyricsComponent,\n    LocationComponent,\n    PageSwitchComponent,\n    HomeComponent,\n    PlaylistComponent,\n    FilterComponent,\n    MessageComponent,\n    StreamFilterComponent,\n    HarmonicComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    YouTubePlayerModule,\n    VideoModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { PageSwitchService } from '../page-switch.service';\nimport { AppPage } from './AppPage';\n\n\n\n\n\n@Component({\n  selector: 'app-page-switch',\n  templateUrl: './page-switch.component.html',\n  styleUrls: ['./page-switch.component.css']\n})\nexport class PageSwitchComponent implements OnInit {\n\n  currentPage: AppPage = AppPage.Home\n  AppPage = AppPage\n\n  constructor(private pageSwitchService: PageSwitchService) {\n    this.pageSwitchService.appPageChange.subscribe((value) => {\n      this.currentPage = value\n    })\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div *ngIf=\"currentPage\">\n    <app-home [ngClass]=\"currentPage === AppPage.Home ? 'visible' : 'hidden'\"></app-home>\n    <app-filter [ngClass]=\"currentPage === AppPage.Filter ? 'visible' : 'hidden'\"></app-filter>\n    <app-playlist [ngClass]=\"currentPage === AppPage.Playlist ? 'visible' : 'hidden'\"></app-playlist>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-navbar-item',\n  templateUrl: './navbar-item.component.html',\n  styleUrls: ['./navbar-item.component.css']\n})\nexport class NavbarItemComponent implements OnInit {\n\n  @Input() title = \"\";\n  @Input() iconName = \"\";\n  @Input() isSelected? : boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<li class=\"nav-item\">\n    <a aria-current=\"page\" \n        class=\"nav-link navbar-item-text d-flex flex-column navbar-item-text\"\n        [class.selected]=\"isSelected === true\"\n        >\n        <div class=\"material-icons size navbar-item-icon\">{{iconName}}</div>{{title}}</a>\n</li>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.css']\n})\nexport class FilterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h4>Subscribed agents</h4>\n<p>\n  Choose which kind of song relationships you are interested in.\n</p>\n<app-stream-filter></app-stream-filter>\n<hr />\n<h4>Related songs</h4>\n<div class=\"row\">\n  <div class=\"col-5\">\n    <label for=\"maxRelated\" class=\"form-label\">Maximum related songs</label>\n  </div>\n  <div class=\"col-3\">\n    <input type=\"text\" id=\"maxRelated\" class=\"form-control\" aria-describedby=\"maxRelatedHelpBlock\" value=\"3\">\n  </div>\n</div>\n<div id=\"maxRelatedHelpBlock\" class=\"form-text\">\n  The maximum number of related songs that will be displayed per song annotation.\n</div>\n","<div\n  class=\"alert alert-fixed alert-primary\"\n  role=\"alert\"\n  [ngClass]=\"{'d-none fadeOut' : !message.visible, 'fadeIn' : message.visible}\">\n  <span [ngSwitch]=\"message.type\">\n    <!-- the same view can be shown in more than one case -->\n    <i *ngSwitchCase=\"'info'\" class=\"fas fa-info-circle\"></i>\n    <i *ngSwitchCase=\"'delete'\" class=\"fas fa-trash-alt\"></i>\n    <i *ngSwitchCase=\"'done'\" class=\"fas fa-check-circle\"></i>\n    <i *ngSwitchCase=\"'warning'\" class=\"fas fa-exclamation-triangle\"></i>\n\n    <!--default case when there are no matches -->\n    <i *ngSwitchCase=\"message.type === 'info'\" class=\"fas fa-info-circle\"></i>\n  </span>\n  {{message.messageText}}\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Message} from '../message';\nimport {Subscription} from 'rxjs';\nimport {MessageService} from '../message.service';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit {\n  message: Message;\n  messageSubscription: Subscription;\n\n  constructor(\n    private messageService: MessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.messageSubscription = this.messageService.currentMessage.subscribe( message => this.message = message);\n    this.messageService.initMessage();\n  }\n\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LyricsMetadata } from 'src/app/annotation-metadata';\n\n@Component({\n  selector: 'app-lyrics',\n  templateUrl: './lyrics.component.html',\n  styleUrls: ['./lyrics.component.css']\n})\nexport class LyricsComponent implements OnInit {\n\n  @Input() metadata? : LyricsMetadata;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<figure class=\"text-center\">\n  <blockquote class=\"blockquote\">\n    <p>\n      <span class=\"\">&ldquo;</span><em>{{metadata.lyrics}}</em><span class=\"\">&rdquo;</span>\n    </p>\n  </blockquote>\n</figure>\n","import { Injectable } from '@angular/core';\nimport { AnnotationGraphics } from './annotation-graphics';\n\ntype AnnotationGraphicsMap = {\n  lyrics: AnnotationGraphics,\n  spatial: AnnotationGraphics,\n  harmonic: AnnotationGraphics\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnnotationGraphicsService {\n\n  annotationGraphicsMap: AnnotationGraphicsMap = {\n    lyrics: {\n      title: 'Lyrics',\n      color: '#d020d0',\n      iconName: 'border_color'\n    },\n    spatial: {\n      title: 'Location',\n      color: '#90ff90',\n      iconName: 'place'\n    },\n    harmonic: {\n      title: 'Harmonic',\n      color: '#9090ff',\n      iconName: 'music_note'\n    }\n  };\n\n  constructor() {}\n\n  getAnnotationGraphics(annotationType: string): AnnotationGraphics | undefined {\n\n    // define what to do if annotation type is not in the map\n\n    return this.annotationGraphicsMap[annotationType];\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { PageSwitchService } from '../page-switch.service';\nimport { AppPage } from '../page-switch/AppPage';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  selectedItem?\n  navItems = [\n     // home item params\n     {  title : \"Home\",\n        icon : \"home\",\n        page: AppPage.Home\n     },\n     // playlist item params\n     { title : \"Playlist\",\n       icon : \"queue_music\",\n       page: AppPage.Playlist\n     },\n       // filter item params\n     { title : \"Settings\",\n       icon : \"filter_alt\",\n       page: AppPage.Filter\n     }\n  ];\n\n  constructor(private pageSwitchService: PageSwitchService) {}\n\n  ngOnInit(): void {\n    this.selectedItem = this.findNavItemForPage(this.pageSwitchService.currentPage);\n  }\n\n  findNavItemForPage(page) {\n    let navItemToReturn;\n    this.navItems.forEach(navItem => {\n      if (navItem.page === page) {\n        navItemToReturn = navItem\n      }\n    })\n    return navItemToReturn\n  }\n\n  onClickNavButton(item) {\n    this.pageSwitchService.changePage(item.page)\n    this.selectedItem = this.findNavItemForPage(this.pageSwitchService.currentPage);\n  }\n}\n","<nav class=\"navbar navbar-expand-md navbar-dark fixed-bottom navbar-background\">\n    <div class=\"container-fluid\">\n      <!-- <a class=\"navbar-brand\" href=\"#\">{{title}}</a> -->\n        <ul class=\"list-unstyled container-fluid d-flex flex-row justify-content-around navbar-item-list\">\n          <app-navbar-item *ngFor=\"let item of navItems\"\n              class=\"navbar-item\"\n              [isSelected]=\"item === selectedItem\"\n              (click)=\"onClickNavButton(item)\"\n              [title]=\"item.title\" \n              [route]=\"item.route\"\n              [iconName]=\"item.icon\">\n            </app-navbar-item>\n        </ul>\n    </div>\n  </nav>","<div *ngIf=\"annotation\" class=\"app-background stream-item\" [ngClass]=\"{'shine' : isRendered}\" [style.border-color]=\"annotationGraphics.color\">\n  <app-stream-item-header [annotation]=\"annotation\"></app-stream-item-header>\n  <app-stream-item-main-info [annotation]=\"annotation\"></app-stream-item-main-info>\n  <app-stream-item-details [annotation]=\"annotation\"\n                            id=\"{{'flush-collapse-' + annotation.simpleID}}\"\n                            class=\"accordion-collapse collapse\"\n                            [attr.aria-labelledby]=\"'flush-heading-' + annotation.simpleID\"\n                            [attr.data-bs-parent]=\"'#accordionFlush'\"\n                            class=\"accordion-body collapse\">\n  </app-stream-item-details>\n  <app-stream-item-social-buttons [annotation]=\"annotation\"></app-stream-item-social-buttons>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport {Annotation} from '../annotation';\nimport { AnnotationGraphics } from '../annotation-graphics';\nimport { AnnotationGraphicsService } from '../annotation-graphics.service';\n\n@Component({\n  selector: 'app-stream-item',\n  templateUrl: './stream-item.component.html',\n  styleUrls: ['./stream-item.component.css']\n})\nexport class StreamItemComponent implements OnInit {\n  @Input() annotation?: Annotation;\n  isRendered: boolean;\n  annotationGraphics?: AnnotationGraphics\n\n\n  constructor(private annotationGraphicsService: AnnotationGraphicsService) {\n  }\n  \n  ngOnInit(): void {\n    if (this.annotation) {\n      this.annotationGraphics = this.annotationGraphicsService.getAnnotationGraphics(this.annotation.type)\n    }\n  }\n  \n  ngAfterContentInit() {\n    setTimeout(\n      () => {\n        this.isRendered = true\n      }, 10);    \n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LocationMetadata } from 'src/app/annotation-metadata';\n\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.component.html',\n  styleUrls: ['./location.component.css']\n})\nexport class LocationComponent implements OnInit {\n  @Input() metadata?: LocationMetadata;\n  @Input() description?: string;\n\n  staticMapImageURL: string;\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if (this.metadata.placeLong && this.metadata.placeLat) {\n      this.staticMapImageURL = this.buildStaticMapImageURL(this.metadata.placeLat, this.metadata.placeLong);\n    }\n    else {\n      this.staticMapImageURL = null;\n    }\n  }\n\n  buildStaticMapImageURL(latInput: number, lngInput: number, zoomInput: number = 8, pitchInput: number = 25): string {\n    const apiKey = '28d8e857dddf4d96bd0798a8d575c34b';\n    const base = 'https://maps.geoapify.com/v1/staticmap?';\n    const style = 'osm-carto';\n    const width = '400';\n    const height = '300';\n    const center = 'lonlat:' + lngInput + ',' + latInput;\n    const zoom = zoomInput;\n    const pitch = pitchInput;\n    const marker = center + ';type:material;color:%23ff3421;icontype:awesome';\n    const fullURL = base +\n      'style=' + style +\n      '&width=' + width +\n      '&height=' + height +\n      '&center=' + center +\n      '&zoom=' + zoom +\n      '&pitch=' + pitch +\n      '&marker=' + marker +\n      '&apiKey=' + apiKey;\n    return fullURL;\n  }\n\n}\n","<p>\n  {{metadata.placeLabel}} <br />\n  <em>{{metadata.placeFullAddress}}</em>\n</p>\n<img\n  width=\"400\"\n  height=\"300\"\n  src=\"{{staticMapImageURL}}\"\n  alt=\"L3 13D, Salthouse Quay, Liverpool L3 4AE, United Kingdom\">\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {YouTubePlayer} from '@angular/youtube-player';\nimport { Song } from '../song';\nimport {StreamService} from '../stream.service';\nimport {QueueService} from '../queue.service';\nimport {SongService} from '../song.service';\nimport {Subscription} from 'rxjs';\nimport {QueueItem} from '../queueitem';\n\n@Component({\n  selector: 'app-video',\n  templateUrl: './video.component.html',\n  styleUrls: ['./video.component.css']\n})\nexport class VideoComponent implements OnInit {\n  @ViewChild(YouTubePlayer) youtubePlayer!: YouTubePlayer;\n\n  youtubeTarget: any;\n  playing = false;\n  currentSong: Song;\n  currentPlayTime = 0;\n  timer;\n  queue: Song[];\n  queueSubscription: Subscription;\n  currentSongSubscription: Subscription;\n\n  constructor(\n    private streamService: StreamService,\n    private queueService: QueueService,\n    private songService: SongService\n  ) { }\n\n  ngOnInit(): void {\n    this.queueSubscription = this.queueService.currentQueue.subscribe( queue => this.queue = queue);\n    this.currentSongSubscription = this.queueService.currentSong.subscribe( song => this.currentSong = song);\n    this.queueService.addToQueueByID('https://w3id.org/polifonia/resource/Recording/00205');\n    this.queueService.addToQueueByID('https://w3id.org/polifonia/resource/Recording/00188');\n    // this.queueService.addToQueueByID('https://w3id.org/polifonia/resource/Recording/00003');\n    // this.queueService.addToQueueByID('https://w3id.org/polifonia/resource/Recording/00004');\n    // this.queueService.addToQueueByID('1001');\n    // this.queueService.addToQueueByID('1002');\n    // this.queueService.addToQueueByID('1003');\n    // this.queueService.addToQueueByID('1004');\n    this.forward();\n    const tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/iframe_api';\n    document.body.appendChild(tag);\n    this.initPlayer();\n  }\n\n  initPlayer(): void {\n    // Called when we move to a new song. Reset counters, stream(??), status and so on\n    this.currentPlayTime = 0;\n    this.streamService.setPlayTime(this.currentPlayTime);\n  }\n\n  onReady($event): void {\n    // console.log($event);\n    this.youtubeTarget = $event.target;\n  }\n\n  onStateChange(event): void {\n    // console.log(this.youtubePlayer);\n    // console.log(this.youtubePlayer.getCurrentTime());\n    if (this.youtubePlayer\n      && this.youtubePlayer.getPlayerState() === YT.PlayerState.PLAYING) {\n      this.playing = true;\n      this.startTicker();\n    }\n    else {\n      if (this.playing) {\n        // We think we're still playing but the YT player thinks not, we've probably reached the end of a song or just loaded a new song\n        this.play();\n      } else {\n        this.pause();\n      }\n    }\n  }\n\n  startTicker(): void {\n    this.timer = setInterval(() => { this.tick(); }, 500);\n  }\n\n  stopTicker(): void {\n    clearInterval(this.timer);\n  }\n\n  tick(): any {\n    this.currentPlayTime = Math.round(this.youtubePlayer.getCurrentTime());\n    this.streamService.setPlayTime(this.currentPlayTime);\n  }\n\n  play(): void {\n    // PLAY THE SONG\n    if (this.youtubeTarget.getPlayerState() === 0) { // state 0 = video ended\n      // Video has ended, move forwards\n      this.forward();\n    }\n    // console.log('calling play function');\n    this.playing = true;\n    this.youtubeTarget.playVideo();\n  }\n\n  pause(): void {\n    // PAUSE THE SONG\n    // console.log('calling pause function');\n    this.playing = false;\n    this.youtubeTarget.pauseVideo();\n  }\n\n  backwards(): void {\n    // GO BACK IN THE PLAY QUEUE\n    // If we're more than 2 seconds into the current song, just return to the start of the song.\n    // Else jump back to the previous song.\n    if (this.currentPlayTime > 2) {\n      this.youtubeTarget.seekTo(0, true);\n      this.initPlayer();\n    }\n    else {\n      this.queueService.backwards();\n      this.initPlayer();\n      if (this.youtubePlayer && this.youtubePlayer.getPlayerState() >= 0) {\n        this.youtubePlayer.seekTo(0, true);\n      }\n    }\n  }\n\n  forward(): void {\n    // GO FORWARD IN THE PLAY QUEUE\n    this.queueService.forwards();\n    this.initPlayer();\n    if (this.youtubePlayer && this.youtubePlayer.getPlayerState() >= 0) {\n      this.youtubePlayer.seekTo(0, true);\n    }\n\n  }\n\n}\n","<div class=\"row pb-1\">\n  <div class=\"col\">\n    <div class=\"card rounded app-background\">\n      <div class=\"card-body content-centered\">\n        <youtube-player\n          (ready)=\"onReady($event)\"\n          (stateChange)=\"onStateChange($event)\"\n          [videoId]=\"currentSong.youtubeID\"\n          suggestedQuality=\"highres\"\n          [height]=\"200\"\n          [width]=\"300\"\n          [playerVars]=\"{\n            controls: 0\n            }\">\n        </youtube-player>\n        <div class=\"hidden-dev-element\">\n          <br />\n          Timer: {{currentPlayTime}}\n          <br />\n        </div>\n        <div>\n          <div class=\"audio-controller-container\">\n            <button (click)=\"backwards()\" type=\"button\" class=\"btn btn-primary btn-lg audio-button\"><i class=\"fas fa-backward\"></i></button>\n             <button *ngIf=\"playing\" (click)=\"pause()\" type=\"button\" class=\"btn btn-primary btn-xl audio-button play\"><i class=\"fas fa-pause\"></i></button>\n             <button *ngIf=\"!playing\" (click)=\"play()\" type=\"button\" class=\"btn btn-primary btn-xl audio-button pause\"><i class=\"fas fa-play\"></i></button>\n             <button (click)=\"forward()\" type=\"button\" class=\"btn btn-primary btn-lg mx-1 audio-button\"><i class=\"fas fa-forward\"></i></button>\n          </div>\n          <app-playing-song-details [playingSong]=\"currentSong\"></app-playing-song-details>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {HarmonicsMetadata} from '../../../annotation-metadata';\n\n@Component({\n  selector: 'app-harmonic',\n  templateUrl: './harmonic.component.html',\n  styleUrls: ['./harmonic.component.css']\n})\nexport class HarmonicComponent implements OnInit {\n  @Input() metadata?: HarmonicsMetadata;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>\n  Longest chord progression: {{metadata.longestChordProgression}} <br />\n  Start time: {{metadata.timestampIn}} <br />\n  End time: {{metadata.timestampOut}}\n</p>\n","<li *ngIf=\"fullSong\" class=\"d-flex flex-row related-song-item\">\n  <div (click)=\"addToQueue(fullSong.id)\" class=\"material-icons size add-song-icon\">playlist_add</div>\n  <div>\n    {{fullSong.name}} - {{fullSong.artist}} <br />\n    <em>\n      [{{relationship.type}}] - {{targetAnnotation.description}}\n    </em>\n  </div>\n</li>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { QueueService } from '../queue.service';\nimport { Relationship } from '../relationship';\nimport {SongService} from '../song.service';\nimport {Song} from '../song';\nimport {MessageService} from '../message.service';\nimport {Annotation} from '../annotation';\nimport {AnnotationService} from '../annotation.service';\n\n@Component({\n  selector: 'app-stream-item-related-song-item',\n  templateUrl: './stream-item-related-song-item.component.html',\n  styleUrls: ['./stream-item-related-song-item.component.css']\n})\nexport class StreamItemRelatedSongItemComponent implements OnInit {\n\n  @Input() relationship?: Relationship;\n\n  fullSong: Song;\n  targetAnnotation: Annotation;\n\n  constructor(\n    private queueService: QueueService,\n    private songService: SongService,\n    private messageService: MessageService,\n    private annotationService: AnnotationService\n  ) { }\n\n  ngOnInit(): void {\n    if (this.relationship) {\n      this.targetAnnotation = this.annotationService.getAnnotationFromID(this.relationship.annotationID);\n      this.fullSong = this.getSongDetails(this.targetAnnotation.songID);\n    }\n  }\n\n  addToQueue(songID: string): void {\n    // const song = this.songService.getSongDetails(songID);\n    // this.queueService.addToQueue(song);\n    this.queueService.addToQueue(this.fullSong);\n    this.messageService.showMessage(this.fullSong.name + ' added to your playlist', 'done');\n  }\n\n  getSongDetails(songID: string): Song {\n    return this.songService.getSongDetails(songID);\n  }\n\n}\n","\n  <div class=\"row\">\n    <div class=\"col\">\n      <div class=\"card rounded app-background\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Queue</h5>\n\n          <div *ngFor=\"let queueItem of queue; let i = index\">\n            {{queueItem.name}} - {{queueItem.artist}}\n            <button (click)=\"removeFromQueue(i)\" type=\"button\" class=\"btn btn-danger btn-sm my-1\"><i class=\"fas fa-trash-alt\"></i></button>\n          </div>\n\n        </div>\n      </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {QueueService} from '../queue.service';\nimport {SongService} from '../song.service';\nimport {Song} from '../song';\nimport {MessageService} from '../message.service';\n\n@Component({\n  selector: 'app-queue',\n  templateUrl: './queue.component.html',\n  styleUrls: ['./queue.component.css']\n})\nexport class QueueComponent implements OnInit {\n  queue: Song[] = [];\n  queueSubscription: Subscription;\n\n  constructor(\n    private queueService: QueueService,\n    private songService: SongService,\n    private messageService: MessageService\n  ) { }\n\n  ngOnInit(): void {\n    this.queueSubscription = this.queueService.currentQueue.subscribe(queue => this.queue = queue);\n  }\n\n  getSongDetails(id: string): Song {\n    return this.songService.getSongDetails(id);\n  }\n\n  addToQueueByID(songID: string): void {\n    const song = this.songService.getSongDetails(songID);\n    this.queueService.addToQueue(song);\n    this.messageService.showMessage(song.name + ' has been added to your playlist', 'done');\n  }\n\n  addToQueue(song: Song): void {\n    this.queueService.addToQueue(song);\n  }\n\n  removeFromQueue(index: number): void {\n    this.queueService.removeFromQueue(index);\n    this.messageService.showMessage('Song deleted from playlist', 'delete');\n  }\n\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport { Song } from '../song';\nimport { SongService } from '../song.service';\nimport {QueueService} from '../queue.service';\nimport {YouTubePlayer} from '@angular/youtube-player';\n\n@Component({\n  selector: 'app-audio-player',\n  templateUrl: './audio-player.component.html',\n  styleUrls: ['./audio-player.component.css']\n})\nexport class AudioPlayerComponent implements OnInit {\n  @ViewChild('YouTubePlayer') youtube?: YouTubePlayer;\n\n  public YT: any;\n  public video: any;\n  public player: any;\n  videoID = 'vfxQ1oDiEJM';\n\n  songs: Song[];\n\n  constructor(\n    private songService: SongService,\n    private queueService: QueueService\n  ) { }\n\n  ngOnInit(): void {\n    const tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/iframe_api';\n    document.body.appendChild(tag);\n  }\n\n  getSongs(): void {\n    this.songs = this.songService.getSongs();\n  }\n}\n","<div class=\"row pt-3 pb-1\">\n  <div class=\"col\">\n    <div class=\"card rounded\">\n      <div class=\"card-body\">\n\n        <app-video></app-video>\n\n        </div>\n    </div>\n  </div>\n</div>\n\n","<div class=\"row pb-1\">\n  <div class=\"col\">\n    <div class=\"card rounded app-background\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title hidden-dev-element\">Notes\n          <span class=\"badge bg-primary rounded-pill\">{{stream.length}}</span>\n        </h5>\n\n\n        <div class=\"accordion accordion-flush\" id=\"accordionFlush\">\n\n          <div class=\"accordion-item\" *ngFor=\"let annotation of stream; index as annotationIndex\">\n            <div *ngIf=\"isPreviousSongAnnotation(annotationIndex)\" class=\"annotation-divisor\">{{getSongDetailsByAnnotationIndex(annotationIndex).name}} - {{getSongDetailsByAnnotationIndex(annotationIndex).artist}}</div>\n            <app-stream-item\n              *ngIf=\"filters[annotation.type].enabled\"\n              [annotation]=\"annotation\">\n            </app-stream-item>\n          </div>\n\n        </div>\n\n        <!-- <button (click)=\"addDummyAnnotation()\" type=\"button\" class=\"btn btn-primary\">Add test annotation</button> -->\n\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnChanges, OnDestroy, OnInit, SimpleChanges} from '@angular/core';\nimport {Annotation} from '../annotation';\nimport {Subscription} from 'rxjs';\nimport {StreamService} from '../stream.service';\nimport {AnnotationService} from '../annotation.service';\nimport {QueueService} from '../queue.service';\nimport {Song} from '../song';\nimport { SongService } from '../song.service';\nimport {last} from 'rxjs/operators';\nimport {StreamFilterService} from '../stream-filter.service';\n\n@Component({\n  selector: 'app-stream',\n  templateUrl: './stream.component.html',\n  styleUrls: ['./stream.component.css']\n})\nexport class StreamComponent implements OnInit, OnDestroy {\n  stream: Annotation[] = [];\n  filters: {};\n  currentSongAnnotations: Annotation[] = [];\n  currentTime = 0;\n  lastCheckedTime = 0;\n  timer;\n  currentSong: Song;\n\n  playing = false;\n  streamSubscription: Subscription;\n  timeSubscription: Subscription;\n  currentSongSubscription: Subscription;\n  filtersSubscription: Subscription;\n\n  constructor(\n    private streamService: StreamService,\n    private annotationService: AnnotationService,\n    private queueService: QueueService,\n    private songService: SongService,\n    private streamFilterService: StreamFilterService\n  ) { }\n\n  ngOnInit(): void {\n    this.streamSubscription = this.streamService.currentStream.subscribe(stream => this.stream = stream);\n    this.timeSubscription = this.streamService.currentTime.subscribe( time => this.currentTime = time);\n    this.currentSongSubscription = this.queueService.currentSong.subscribe( song => this.currentSong = song);\n    this.filtersSubscription = this.streamFilterService.currentFilters.subscribe( filters => this.filters = filters);\n\n    // Start timer\n    this.timer = setInterval(() => { this.checkForUpdates(); }, 1000);\n\n    if (this.currentSong) {\n      this.getCurrentSongAnnotations(this.currentSong.id);\n    }\n  }\n\n  ngOnDestroy(): void {\n    // Kill the timer\n    clearInterval(this.timer);\n  }\n\n  getSimpleString(input: string): string {\n    // Take a complex URL string and return the part after the last slash, special characters removed\n    let lastPart = input.split('/').pop();\n    lastPart.replace(/[^a-zA-Z ]/g, '');\n    return lastPart;\n  }\n\n  getCurrentSongAnnotations(songID: string): void {\n    this.currentSongAnnotations = this.annotationService.getSongAnnotations(songID);\n    // console.log (this.currentSongAnnotations);\n  }\n\n  checkForUpdates(): void {\n    // Code here\n    this.getCurrentSongAnnotations(this.currentSong.id);\n    this.currentSongAnnotations.forEach( (annotation) => {\n      const visible = (annotation.timestamp <= this.currentTime);\n      let inStream = false;\n      this.stream.forEach( (streamItem) => {\n        if (streamItem.id === annotation.id) {\n          inStream = true;\n        }\n      });\n      if (!inStream && visible) {\n        annotation.simpleID = this.getSimpleString(annotation.id);\n        this.streamService.addToStream(annotation);\n      }\n    });\n  }\n\n  isPreviousSongAnnotation(annotationIndex: number): boolean {\n\n    const playingSong = this.currentSong.id;\n    const lastAnnotationIndex = 0;\n    const scannedAnnotationSong = this.stream[annotationIndex].songID;\n    const lastAnnotationSongInTheStream = this.stream[lastAnnotationIndex].songID;\n\n    // this condition makes divisor pops when a song change but no annotation from new song are in the stream\n    if (scannedAnnotationSong == lastAnnotationSongInTheStream && annotationIndex == lastAnnotationIndex) {\n      if (scannedAnnotationSong != playingSong) {\n        return true;\n      }\n    }\n\n\n    if (annotationIndex === 0) {\n      return false\n    }\n    const previousSongAnnotation = this.stream[annotationIndex-1].songID\n    // this condition makes divisor pops when an annotation is from a song different from following annotation\n    if (scannedAnnotationSong != previousSongAnnotation) {\n      return true;\n    }\n\n    return false;\n  }\n\n  getSongDetailsByAnnotationIndex(annotationIndex: number): Song {\n    return this.songService.getSongDetails(this.stream[annotationIndex].songID);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {StreamFilterItem} from './stream-filter-item';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StreamFilterService {\n  private filtersSource = new BehaviorSubject<any>(null);\n  currentFilters = this.filtersSource.asObservable();\n\n  constructor() { }\n\n  initFilters(): void {\n    // Initialise filters\n    // FIXME - This can load from local storage to preserve state for users, eventually.\n    const filters = {\n      spatial: undefined,\n      lyrics: undefined,\n      harmonic: undefined,\n    };\n    filters.spatial = {\n      type: 'spatial',\n      label: 'Locations',\n      enabled: true\n    };\n    filters.lyrics = {\n      type: 'lyrics',\n      label: 'Lyrics',\n      enabled: true\n    };\n    filters.harmonic = {\n      type: 'harmonic',\n      label: 'Harmonic',\n      enabled: true\n    };\n    this.filtersSource.next(filters);\n  }\n\n  setFilterStatus(type: string, enabled: boolean): void {\n    const localFilters = this.filtersSource.getValue();\n    localFilters[type].enabled = enabled;\n    this.filtersSource.next(localFilters);\n  }\n\n  getFilterStatus(type: string): boolean {\n    return this.filtersSource.getValue()[type].enabled;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HomepageComponent } from './homepage/homepage.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/home', pathMatch: 'full' },\n  { path: 'home', component: HomepageComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}